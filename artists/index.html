<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Arkansas Musicians</title>
    <meta name="description" content="Arkansas Musicians">
    <meta name="keywords" content="Band, Singer, Musician, Arkansas, instrumnet">
    <meta name="author" content="Rich Faulkner">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="assets/Style/musician.css">
</head>
    <body>
  <h1>Artists</h1>
  
       <p>Select an artist from the dropdown list.</p>
<p>Click the "Submit" button to see information about the selected Artist.</p>
  <label for="artist">Choose an Artist:</label>
  <select type="text" id="artist">
      <option value="ronnie_hawkins">Ronnie Hawkins</option>
      <option value="point_of_grace">Point of Grace</option>
      <option value="lefty_frizzell">Lefty Frizzell</option>
      <option value="michael_burks">Michael Burks</option>
      <option value="Pharoah_sanders">Pharoah Sanders</option>
      <option value="collin_raye">Collin Raye</option>
      <option value="jimmie_driftwood">Jimmie Driftwood</option>
      <option value="joe_nichols">Joe Nichols</option>
      <option value="elvis_presley">Elvis Presley</option>
      <option value="kris_allen">Kris Allen</option>
      <option value="billy_bob_thorton">Billy Bob Thorton</option>
      <option value="Ne-Yo">Ne-Yo</option>
      <option value="charlie_rich">Charlie Rich</option>
      <option value="black_oak_arkansas">Black Oak Arkansas</option>
      <option value="Justin_Moore">Justin Moore</option>
      <option value="Tracy_Lawrence">Tracy Lawrence</option>
      <option value="Levon_Helm">Levon Helm</option>
      <option value="Evanescence">Evanescence</option>
      <option value="Conway_Twitty">Conway Twitty</option>
      <option value="Glen_Campbell">Glen Campbell</option>
      <option value="Johnny_Cash">Johnny Cash</option>
      <option value="Al_Green">Al Green</option>
      <option value="B.B._King">B.B. King</option>
  </select>
       <button onclick="search();">Search</button><br><br>
  

      
       <script>
async function search() {

    // Artist Data
    // Select Artist from the dropbox; encode the artist name in case there are special characters
    artistSearchValue = (document.getElementById("artist").value);
    // Create the search URL; APIKEY = 523532
    artistSearchURL = "https://theaudiodb.com/api/v1/json/523532/search.php?s=" + artistSearchValue;
    // AJAX call to fetch the data
    artistObject = await fetch(artistSearchURL);
    artistJSONText = await artistObject.text();
    // Parse the JSON string into an object
    artistData = JSON.parse(artistJSONText);
    // Display the biography data - Note we display the first result - 0 index
    document.getElementById("biography").innerHTML = artistData.artists[0].strBiographyEN;
    // Display the artist picture - Note we display the first result - 0 index; use "/preview" for smaller image
    document.getElementById("artistbanner").src = artistData.artists[0].strArtistBanner + "/preview";

    // Album Data - Get the first Album
    // Get the artist ID from the artist data object; encode the artist ID in case there are special characters
    albumSearchValue = encodeURI(artistData.artists[0].idArtist);
    // Create the search URL; 
    albumSearchURL = "https://theaudiodb.com/api/v1/json/523532/album.php?i=" + albumSearchValue;
    // AJAX call to fetch the data
    albumObject = await fetch(albumSearchURL);
    albumJSONText = await albumObject.text();
    // Parse the JSON string into an object
    albumData = JSON.parse(albumJSONText);
    // Loop through the albums
    albumList = "";
    for (i = 0; i < albumData.album.length; i++) {
        albumList = albumList + albumData.album[i].strAlbum + " (" + albumData.album[i].intYearReleased + ")" + "<br>";
    }
    // Display the album names
    document.getElementById("albumlist").innerHTML = albumList;

    // Track Data - Get the tracks for the first album
    // Get the album ID from the artist data object; encode the album ID in case there are special characters
    trackSearchValue = encodeURI(albumData.album[0].idAlbum);
    // Create the search URL; 
    trackSearchURL = "https://theaudiodb.com/api/v1/json/523532/track.php?m=" + trackSearchValue;
    // AJAX call to fetch the data
    trackObject = await fetch(trackSearchURL);
    trackJSONText = await trackObject.text();
    // Parse the JSON string into an object
    trackData = JSON.parse(trackJSONText);     
    trackList = "";
    for (i = 0; i < trackData.track.length; i++) {
        trackList = trackList + trackData.track[i].strTrack + "<br>";
    }
    // Display the track names for first album
    document.getElementById("tracklist").innerHTML = trackList;
}
</script>
      </div>
  </body>
</html>
